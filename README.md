# Задание 1
* Скачайте и установите виртуальную машину Metasploitable: https://sourceforge.net/projects/metasploitable/.
    * Это типовая ОС для экспериментов в области информационной безопасности, с которой следует начать при анализе уязвимостей.
    * Просканируйте эту виртуальную машину, используя nmap.
    * Попробуйте найти уязвимости, которым подвержена эта виртуальная машина.
    * Сами уязвимости можно поискать на сайте https://www.exploit-db.com/.

## Для этого нужно в поиске ввести название сетевой службы, обнаруженной на атакуемой машине, и выбрать подходящие по версии уязвимости.
* Ответьте на следующие вопросы:
    * Какие сетевые службы в ней разрешены?
    * Какие уязвимости были вами обнаружены? (список со ссылками: достаточно трёх уязвимостей)
## Приведите ответ в свободной форме.

# Ответ:

``` bash
    nmap -sV -sC <ip adress>
```
* -sV: Определение версий служб
* -sC: Запуск безопасных скриптов NSE для сбора доп. информации.
![скрин](https://github.com/MindTempest/git_hw/blob/main/nmap.jpg)

* здесь разрешено огромное количество служб:
    * FTP: vsftpd 2.3.4, ProFTPD 1.3.1
    * SSH: OpenSSH 4.7p1
    * HTTP: Apache 2.2.8, Apache Tomcat
    * SMB: Samba 3.X
    * RPC services
    * Databases: MySQL 5.0.51a, PostgreSQL 8.3.0
    * IRC: UnrealIRCd
    * и многие другие (telnet, rsh, bind, vnc и т.д.)

* vsftpd 2.3.4 - Backdoor Command Execution https://www.exploit-db.com/exploits/17491
* DistCC daemon - Unauthorized Command Execution https://www.exploit-db.com/exploits/9915
* UnrealIRCd 3.2.8.1 - Backdoor Command Execution https://www.exploit-db.com/exploits/16922

# Задание 2
* Проведите сканирование Metasploitable в режимах SYN, FIN, Xmas, UDP.
* Запишите сеансы сканирования в Wireshark.
* Ответьте на следующие вопросы:
    * Чем отличаются эти режимы сканирования с точки зрения сетевого трафика?
    * Как отвечает сервер?
## Приведите ответ в свободной форме.

# Ответ

## Сеансы Wireshark:
[FIN](https://github.com/MindTempest/git_hw/blob/main/FIN.pcapng)
[SYN](https://github.com/MindTempest/git_hw/blob/main/SyN.pcapng)
[XMAS](https://github.com/MindTempest/git_hw/blob/main/XMAS.pcapng)
[UDP](https://github.com/MindTempest/git_hw/blob/main/UDP.pcapng)

* SYN-сканирование (-sS): Отправляется пакет только с установленным флагом SYN (как при обычном подключении). Это "полуоткрытое" сканирование.
      * Трафик: Клиент -> [SYN] -> Сервер; Сервер -> [SYN/ACK] -> Клиент; Клиент -> [RST] -> Сервер (сбрасывает соединение).
* FIN-сканирование (-sF): Отправляется пакет с установленным флагом FIN (используется для штатного завершения соединения).
      * Трафик: Клиент -> [FIN] -> Сервер. Ожидается ответ.
* Xmas-сканирование (-sX): Отправляется пакет с установленными флагами FIN, PSH и URG
      * Трафик: Клиент -> [FIN, PSH, URG] -> Сервер. Ожидается ответ.
* UDP-сканирование (-sU) чуть чуть по другому так как работает не с TCP, а с UDP-протоколом. Nmap отправляет UDP-пакет на целевой порт. Если порт закрыт, сервер должен ответить с ICMP Port Unreachable. Если порт открыт, сервер либо молчит, либо (редко) отвечает UDP-пакетом.

* Поведение сервера зависит от состояния порта и типа сканирования.
* Для TCP-сканирований (FIN, Xmas):
  * Если порт ЗАКРЫТ: Сервер, получив неожиданный пакет (с FIN или набором флагов), по умолчанию RFC должен ответить пакетом RST (сброс)
  * Если порт ОТКРЫТ: Сервер проигнорирует непонятный ему пакет (без флага SYN) и не отправит ответа.
* Для UDP-сканирования:
  * Нет ответа (или UDP-ответ) -> порт открыт|фильтруется
  * Ответ ICMP Port Unreachable -> порт закрыт.
  

